<div>
  <div class="title" *ngIf="productData">
    <div class="title-name">
      {{ productData.display_name}}
    </div>
    <div class="title-icon">
      <a class="btn-icon">
        <i class="bi bi-x iconx"></i>
      </a>
    </div>
  </div>
  <div class="select"> 
    <div>
      <div class="custom-select" (click)="toggleSelect()">
        <div class="select-selected">
          {{ selectedOption ? 'Fulfillment facility: ' + selectedOption : 'Fulfillment facility: All' }}
          <i class="bi bi-chevron-down down"></i>
        </div>
        <div class="select-items" [ngClass]="{'select-hide': !isSelectOpen}">
          <div class="select-option" (click)="selectOption(null)">
            <img src="https://d1ud88wu9m1k4s.cloudfront.net/icons/ic_Tier_All_Location_24x24.svg" alt="All" class="select-option-image">
            Fulfillment facility: All
          </div>
          <div class="select-option" *ngFor="let sku of (productData?.base_sku ?? []) | uniqueLocation" (click)="selectOption(sku)"
           (change)="onCategoryChange()">
            <img [src]="sku.location_icon" alt="{{ sku.location_name }}" class="select-option-image">
            {{ sku.location_name }}
          </div>
        </div>
      </div>
    </div>
    <div>
      <select class="form-select" aria-label="Default select example" [(ngModel)]="selectedSize" (change)="onCategoryChange()" multiple>
        <option [value]="'ALL'" selected>Size: All</option>
        <ng-container *ngFor="let option of sizeOptions">
          <option *ngFor="let value of option.values" [value]="value.id">
            {{ value.name }}
          </option>
        </ng-container>
      </select>
    </div>
    <div>
      <select class="form-select" aria-label="Default select example" [(ngModel)]="selectedColor" (change)="onCategoryChange()" multiple>
        <option [value]="'ALL'" selected>Color: All</option>
        <ng-container *ngFor="let option of sizeOptions1">
          <option *ngFor="let value of option.values" [value]="value.id">
            {{ value.name }}
          </option>
        </ng-container>
      </select>
    </div>
  </div>
  <div class="table-full">
    <table class="table">
      <thead>
        <tr>
          <th rowspan="2">Fulfillment facility</th>
          <th rowspan="2">Size</th>
          <th rowspan="2">Color</th>
          <th rowspan="2">SKU</th>
          <th rowspan="2">Base cost</th>
          <th rowspan="2">2nd price</th>
          <th colspan="4">Shipping fee</th>
        </tr>
        <tr>
          <td>US</td>
          <td>US addition</td>
          <td>WW</td>
          <td>WW addition</td>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let sku of filteredList">
          <td>
            <img [src]="sku.location_icon">
            <span>
              {{ sku.location_name }}
            </span>
          </td>
          <td>{{ sku.size_name }}</td>
          <td>{{ sku.color_name }}</td>
          <td>{{ sku.sku }}</td>
          <td>${{ sku.base_cost }}</td>
          <td>${{ sku.second_side_price }}</td>
          <td>${{ sku.shipping_cost_us }}</td>
          <td>${{ sku.shipping_adding_us }}</td>
          <td>${{ sku.shipping_cost_ww }}</td>
          <td>${{ sku.shipping_adding_ww }}</td>
      </tbody>
    </table>
  </div>
</div>